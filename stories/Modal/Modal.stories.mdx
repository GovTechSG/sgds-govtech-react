import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs';
import { useState } from 'react';
import { Modal, Button } from '../../src/components/index';

<Meta title="MDX/Modal" component={Modal} />

# Modal

Let's define a story for our `Modal` component

export const NamedTemplate = (type = '') => {
  const Template = (args) => {
    const [show, setShow] = useState(false);
    const handleClose = () => setShow(false);
    const handleShow = () => setShow(true);
    return (
      <>
        <Button variant="primary" onClick={handleShow}>
          {type} modal
        </Button>
        <Modal show={show} onHide={handleClose} {...args}>
          <Modal.Header closeButton>
            <Modal.Title>Modal heading</Modal.Title>
          </Modal.Header>
          <Modal.Body>Woohoo, you're reading this text in a modal!</Modal.Body>
          <Modal.Footer>
            <Button variant="secondary" onClick={handleClose}>
              Close
            </Button>
            <Button variant="primary" onClick={handleClose}>
              Save Changes
            </Button>
          </Modal.Footer>
        </Modal>
      </>
    );
  };
  return Template;
};
export const defaultModal = NamedTemplate('Default').bind({});
export const smallModal = NamedTemplate('Small').bind({});
export const largeModal = NamedTemplate('Large').bind({});
export const xLargeModal = NamedTemplate('Extra large').bind({});
export const templateCode = `
import { Modal, Button } from 'sgds-react';
 const DefaultModal = (args) => {
    const [show, setShow] = useState(false);
    const handleClose = () => setShow(false);
    const handleShow = () => setShow(true);
    return (
      <>
        <Button variant="primary" onClick={handleShow}>
          {type} modal
        </Button>
        <Modal show={show} onHide={handleClose}>
          <Modal.Header closeButton>
            <Modal.Title>Modal heading</Modal.Title>
          </Modal.Header>
          <Modal.Body>Woohoo, you're reading this text in a modal!</Modal.Body>
          <Modal.Footer>
            <Button variant="secondary" onClick={handleClose}>
              Close
            </Button>
            <Button variant="primary" onClick={handleClose}>
              Save Changes
            </Button>
          </Modal.Footer>
        </Modal>
      </>
    );
  };
`;
export const customCssTemplate = NamedTemplate('Custom CSS').bind({});

## Default state

The `Modal` is hidden by default and appears with backdrop and animation on click. `Modal` component consists of
`Modal.Title`, `Modal.Header`, `Modal.Body`, `Modal.Footer`, `Modal.Dialog`. Add children components to customize your `Modal`

<Canvas>
  <Story
    name="default"
    parameters={{
      docs: {
        source: {
          code: templateCode,
        },
        type: 'code',
      },
    }}
  >
    {defaultModal}
  </Story>
</Canvas>

<ArgsTable story="default" />

## Size

You can specify a bootstrap large or small modal by using the size prop: `sm`, `lg`, `xl`

<Canvas>
  <Story
    name="size small"
    args={{
      size: 'sm',
    }}
  >
    {smallModal}
  </Story>
  <Story
    name="size large"
    args={{
      size: 'lg',
    }}
  >
    {largeModal}
  </Story>
  <Story
    name="size xlarge"
    args={{
      size: 'xl',
    }}
  >
    {xLargeModal}
  </Story>
</Canvas>

```jsx
import { Modal } from 'sgds-react';

<Modal show={show} onHide={handleClose} size="sm">
  ...
</Modal>;
<Modal show={show} onHide={handleClose} size="lg">
  ...
</Modal>;
<Modal show={show} onHide={handleClose} size="xl">
  ...
</Modal>;
```

## Full Screen Modal

You can use the fullscreen prop to make the modal fullscreen. Specifying a breakpoint will only set the modal as fullscreen below the breakpoint size

## Apply Custom CSS to Modal
You can apply custom css to the modal dialog div using the dialogClassName prop. Example is using a custom css class with width set to 90%.

<Canvas>
  <Story
    name="custom css"
    args={{
      dialogClassName: 'text-primary',
    }}
  >
    {customCssTemplate}
  </Story>
</Canvas>

```jsx
import { Modal } from 'sgds-react';

<Modal show={show} onHide={handleClose} dialogClassName="text-primary">
  ...
</Modal>;

```
