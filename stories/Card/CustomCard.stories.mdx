import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs';
import { HIDDEN_COMMON_PROPS, VARIANT } from '../helpers';
import {
  Card,
  Row,
  Col,
  QuantityToggle,
  CloseButton,
} from '../../src/components/index';
import { useState } from 'react';
import { CARD_COMMON_PROPS } from './argTypes';

<Meta
  title="MDX/Card/Action Card/Customize"
  component={Card}
  argTypes={{
    ...HIDDEN_COMMON_PROPS,
    ...CARD_COMMON_PROPS,
  }}
/>

export const QtyToggleTemplate = () => {
  const [count, setCount] = useState(0);
  const [disappear, setDisappear] = useState(false);
  const handleDismiss = () => {
    setDisappear(!disappear);
  };
  if (!disappear)
    return (
      <Row>
        <Col xs lg="5">
          <Card>
            <Card.Body>
              <Row className="mb-3">
                <div className="d-flex justify-content-between">
                  <Card.Title as="h4">
                    Basket <i className="bi bi-cart"></i>
                  </Card.Title>
                  <CloseButton onClick={handleDismiss} />
                </div>
              </Row>
              <Row>
                <Col>
                  <Card.Subtitle as="h6" className="text-muted">
                    Item Brand
                  </Card.Subtitle>
                  <Card.Text>Apple </Card.Text>
                </Col>
                <Col>
                  <QuantityToggle count={count} setCount={setCount} />
                </Col>
              </Row>
            </Card.Body>
          </Card>
        </Col>
      </Row>
    );
  else return null;
};

export const QtyToggleVariantTemplate = () => {
  const [count, setCount] = useState(0);
  const [disappear, setDisappear] = useState(false);
  const handleDismiss = () => {
    setDisappear(!disappear);
  };
  if (!disappear)
    return (
      <Row>
        <Col xs lg="5">
          <Card variant="card-action-quantity-toggle">
            <Card.Body>
              <div>
                <Card.Title as="h4">
                  Basket <i className="bi bi-cart"></i>
                </Card.Title>
                <CloseButton onClick={handleDismiss} />
              </div>
              <div>
                <Card.Unit>
                  <Card.Subtitle as="h6" className="text-muted">
                    Item Brand
                  </Card.Subtitle>
                  <Card.Subtitle as="h6">Apple</Card.Subtitle>
                </Card.Unit>
                <QuantityToggle count={count} setCount={setCount} />
              </div>
            </Card.Body>
          </Card>
        </Col>
      </Row>
    );
  else return null;
};

# Custom Cards

Build your own custom Action Cards using various Components from `sgds-react` based on your requirements

## Quantity Toggle Card

Build Quantity Toggle Card using `<Card/>` with attribute `variant="card-action-quantity-toggle"`.

To achieve the desired positioning , `Card.Body` should have two `div` children

- First div contains the `Card.Title` and `CloseButton` and
- second div contains `Card.Unit` and `QuantityToggle`

<Canvas>
  <Story name="Quantity Toggle Card using variant">
    {QtyToggleVariantTemplate.bind({})}
  </Story>
</Canvas>
