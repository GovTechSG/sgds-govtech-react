import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs';
import {
  Nav,
  Button,
  NavItem,
  NavLink,
  Dropdown,
  Container,
  Row,
  Col,
} from '../../src/components/index';
import { useState } from 'react';
import { HIDDEN_COMMON_PROPS } from '../helpers';

<Meta
  title="Components/Navigation/Nav/Nav"
  component={Nav}
  argTypes={{
    ...HIDDEN_COMMON_PROPS,
    onSelect: {
      table: {
        category: `<Nav />`,
      },
    },
    fill: {
      table: {
        category: `<Nav />`,
      },
      description:
        'Have all NavItems proportionately fill all available width.',
    },
    justify: {
      table: {
        category: `<Nav />`,
      },
      description: 'Have all NavItems evenly fill all available width.',
    },
    navbarScroll: {
      description:
        'When used with Navbar, enables vertical scrolling within the toggleable contents of a collapsed Navbar.',
      table: {
        category: `<Nav />`,
      },
    },
    activeKey: {
      description:
        'Marks the NavItem with a matching eventKey (or href if present) as active.',
      table: {
        category: `<Nav />`,
      },
      control: { disable: true },
    },
  }}
/>

export const Template = (args) => {
  return (
    <Nav {...args} activeKey="4.1">
      <Nav.Item>
        <Nav.Link eventKey="link-1">Link</Nav.Link>
      </Nav.Item>
      <Nav.Dropdown
        title="Dropdown"
        id="nav-dropdown"
        href="https://www.designsystem.tech.gov.sg/"
      >
        <Nav.Dropdown.Item eventKey="4.1">Action</Nav.Dropdown.Item>
        <Nav.Dropdown.Item eventKey="4.2">Another action</Nav.Dropdown.Item>
        <Nav.Dropdown.Item eventKey="4.3">
          Something else here
        </Nav.Dropdown.Item>
        <Nav.Dropdown.Divider />
        <Nav.Dropdown.Item eventKey="4.4">Separated link</Nav.Dropdown.Item>
      </Nav.Dropdown>
      <Nav.Dropdown
        isMegaMenu
        title="Megamenu"
        id="nav-dropdown"
        href="https://www.designsystem.tech.gov.sg/"
      >
        <Container>
          <Row>
            <Col>
              <Nav.Dropdown.Item eventKey="5.1">Action</Nav.Dropdown.Item>
            </Col>
            <Col>
              <Nav.Dropdown.Item eventKey="5.2">Action</Nav.Dropdown.Item>
            </Col>
            <Col>
              <Nav.Dropdown.Item eventKey="5.3">Action</Nav.Dropdown.Item>
            </Col>
          </Row>
          <Row>
            <Col>
              <Nav.Dropdown.Item eventKey="5.4">Action</Nav.Dropdown.Item>
            </Col>
            <Col>
              <Nav.Dropdown.Item eventKey="5.5">Action</Nav.Dropdown.Item>
            </Col>
            <Col>
              <Nav.Dropdown.Item eventKey="5.6">Action</Nav.Dropdown.Item>
            </Col>
          </Row>
        </Container>
      </Nav.Dropdown>
    </Nav>
  );
};

# Nav

`<Nav/>` is built on top of `@restart/ui` `Nav` component.

In Nav, there are three kinds of children :

1. Link : `<Nav.Item>`, `<Nav.Link/>`
2. Hoverable Dropdown : `<Nav.Dropdown>` , `<Nav.Dropdown.Item />` , `<Nav.Dropdown.Divider/>`, `<Nav.Dropdown.ItemText/>`
3. Hoverable Dropdown - megamenu : `<Nav.Dropdown>` , `<Nav.Dropdown.Item />` , `<Nav.Dropdown.Divider/>`, `<Nav.Dropdown.ItemText/>`

See example of all three types below;

<Canvas>
  <Story height="300px" name="Default">
    {Template.bind({})}
  </Story>
</Canvas>

## API

<ArgsTable story="Default" />

Reference API for [NavItem](https://react-bootstrap.github.io/components/navs/#nav-item-props) ,
[NavLink](https://react-bootstrap.github.io/components/navs/#nav-link-props)
and
[NavDropdown](/docs/components-navigation-nav-navdropdown--default-story)

```jsx
<Nav>
  <Nav.Item>
    <Nav.Link eventKey="link-1">Link</Nav.Link>
  </Nav.Item>
  <Nav.Dropdown
    title="Dropdown"
    id="nav-dropdown"
    href="https://www.designsystem.tech.gov.sg/"
  >
    <Nav.Dropdown.Item eventKey="4.1">Action</Nav.Dropdown.Item>
    <Nav.Dropdown.Item eventKey="4.2">Another action</Nav.Dropdown.Item>
    <Nav.Dropdown.Item eventKey="4.3">Something else here</Nav.Dropdown.Item>
    <Nav.Dropdown.Divider />
    <Nav.Dropdown.Item eventKey="4.4">Separated link</Nav.Dropdown.Item>
  </Nav.Dropdown>
  <Nav.Dropdown
    isMegaMenu
    title="Megamenu"
    id="nav-dropdown"
    href="https://www.designsystem.tech.gov.sg/"
  >
    <Container>
      <Row>
        <Col>
          <Nav.Dropdown.Item eventKey="5.1">Action</Nav.Dropdown.Item>
        </Col>
        <Col>
          <Nav.Dropdown.Item eventKey="5.2">Action</Nav.Dropdown.Item>
        </Col>
        <Col>
          <Nav.Dropdown.Item eventKey="5.3">Action</Nav.Dropdown.Item>
        </Col>
      </Row>
      <Row>
        <Col>
          <Nav.Dropdown.Item eventKey="5.4">Action</Nav.Dropdown.Item>
        </Col>
        <Col>
          <Nav.Dropdown.Item eventKey="5.5">Action</Nav.Dropdown.Item>
        </Col>
        <Col>
          <Nav.Dropdown.Item eventKey="5.6">Action</Nav.Dropdown.Item>
        </Col>
      </Row>
    </Container>
  </Nav.Dropdown>
</Nav>
```

## On first load

Usually on first load, the navigated item should appear active to the users.

Use `activeKey` prop to set the active item

<Canvas>
  <Story height="250px" name="Active Key" args={{ activeKey: 'link-1' }}>
    {Template.bind({})}
  </Story>
</Canvas>
