import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs';
import {
  Navbar,
  Nav,
  NavDropdown,
  Container,
} from '../../src/components/index';
import { useState } from 'react';
import { HIDDEN_COMMON_PROPS } from '../helpers';

<Meta
  title="Components/Navigation/Navbar"
  component={Navbar}
  argTypes={{
    ...HIDDEN_COMMON_PROPS,
    hasBorderBottom: {
      description: 'When true adds a border-bottom to Navbar',
    },
    expanded: {
      description: 'When true and in hamburger state, Navbar body is visible',
    },
    collapseOnSelect: {
      description:
        'When true and in hamburger state, the Navbar collapses on selection of its items',
    },
    sticky: {
      description: `Position the navbar at the top of the viewport, but only after scrolling past it. A convenience prop for the sticky-top positioning class.  Not supported in <= IE11 and other older browsers without a polyfill`,
    },
    fixed: {
      description: `	
Create a fixed navbar along the top or bottom of the screen, that scrolls with the page. A convenience prop for the fixed-* positioning classes.`,
    },
    expand: {
      table: {
        type: {
          summary:
            'boolean | "sm" | "md" | "lg" | "xl" | "xxl" | number (only for custom css)',
        },
      },
      description: `The breakpoint, below which, the Navbar will collapse. When true the Navbar will always be expanded regardless of screen size.`,
    },
  }}
/>

export const Test = (brandName) => {
  return (args) => {
    return (
      <Navbar {...args}>
        <Container>
          <Navbar.Brand href="#">{brandName}</Navbar.Brand>
          <Navbar.Toggle aria-controls="basic-navbar-nav" />
          <Navbar.Collapse id="basic-navbar-nav">
            <Nav className="me-auto" navbarScroll>
              <Nav.Link href="#">Home</Nav.Link>
              <Nav.Link href="#">Link</Nav.Link>
              <NavDropdown
                title="Dropdown"
                id="basic-nav-dropdown"
                href="https://google.com"
              >
                <NavDropdown.Item href="#action/3.1">Action</NavDropdown.Item>
                <NavDropdown.Item href="#action/3.2">
                  Another action
                </NavDropdown.Item>
                <NavDropdown.Item href="#action/3.3">
                  Something
                </NavDropdown.Item>
                <NavDropdown.Divider />
                <NavDropdown.Item href="#action/3.4">
                  Separated link
                </NavDropdown.Item>
              </NavDropdown>
            </Nav>
          </Navbar.Collapse>
        </Container>
      </Navbar>
    );
  };
};

export const Default = Test('Navbar.Brand');
export const AlwaysExpanded = Test('Always Expanded');
export const AlwaysCollapsed = Test('Always Collapsed');
export const BreakpointSm = Test('Breakpoint-sm');
export const BreakpointMd = Test('Breakpoint-md');
export const BreakpointLg = Test('Breakpoint-lg');
export const BreakpointXl = Test('Breakpoint-xl');
export const BreakpointXxl = Test('Breakpoint-xxl');

# Navbar

<Canvas>
  <Story name="Default" height="250px">
    {Default.bind({})}
  </Story>
</Canvas>

## API

<ArgsTable story="Default" />

## Dropdown in expanded navbar vs Dropdown in collapsed navbar

Dropdown in fully expanded navbar will be hoverable by default.

When navbar is collapsed, Dropdown will not be hoverable, but clickable to support mobile versions.

Pass in boolean , `sm`, `md`, `lg`, `xl`, `xxl` to `expand` prop to apply the breakpoint. 
The sizes applies the defined breakpoint styles from sgds. e.g. `.navbar-expand-sm`, `.navbar-expand-md`

If you are overriding the default sgds css breakpoints, i.e. not using `sm`, `md` ... `xxl` to control the breakpoint, 
Pass in ` ` as a `number` value which depicts which viewport width (px) that you have defined as breakpoint in your customs css mediaquery.
With this value, the navbar will convert the dropdown from hoverable to clickable when screen size changes.

**NOTE** : This component does not directly control the breakpoint value, the CSS is directly controlling it.
Do not rely on `expand` prop to change the breakpoint value size. The breakpoint value size can only be changed with custom mediaqueries

```jsx
<Navbar expand={true}/>
<Navbar expand={false}/>
<Navbar expand="sm"/>
    ...
<Navbar expand="xxl"/>
```

<Canvas>
  <Story name="Always Expanded" args={{ expand: true }}>
    {AlwaysExpanded.bind({})}
  </Story>
</Canvas>

<Canvas>
  <Story name="Always Collapsed" args={{ expand: false }}>
    {AlwaysCollapsed.bind({})}
  </Story>
</Canvas>

<Canvas>
  <Story name="Breakpoint-sm" args={{ expand: 'sm' }}>
    {BreakpointSm.bind({})}
  </Story>
</Canvas>

<Canvas>
  <Story name="Breakpoint-md" args={{ expand: 'md' }}>
    {BreakpointMd.bind({})}
  </Story>
</Canvas>

<Canvas>
  <Story name="Breakpoint-lg" args={{ expand: 'lg' }}>
    {BreakpointLg.bind({})}
  </Story>
</Canvas>

<Canvas>
  <Story name="Breakpoint-xl" args={{ expand: 'xl' }}>
    {BreakpointXl.bind({})}
  </Story>
</Canvas>

<Canvas>
  <Story name="Breakpoint-xxl" args={{ expand: 'xxl' }}>
    {BreakpointXxl.bind({})}
  </Story>
</Canvas>
